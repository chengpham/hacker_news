(this.webpackJsonphacker_news=this.webpackJsonphacker_news||[]).push([[0],{31:function(n,t,e){},51:function(n,t,e){"use strict";e.r(t);var r=e(1),o=e(0),c=e(22),i=(e(31),e(5)),a=e(6),u=e.n(a),s=e(9),f=e(10),b=e.n(f),d=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.id,e=n.by,r=n.url,o=n.time,c=n.title;return{id:t,by:e,url:r,time:o,title:c}},l="https://hacker-news.firebaseio.com/v0/",j="".concat(l,"newstories.json"),h="".concat(l,"item/"),p=function(){var n=Object(s.a)(u.a.mark((function n(t){var e;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.get("".concat(h+t,".json")).then((function(n){var t=n.data;return t&&d(t)}));case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),m=function(){var n=Object(s.a)(u.a.mark((function n(){var t;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.get(j).then((function(n){return n}));case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),x=e(3),O=e(4);function g(){var n=Object(x.a)(["\n    font-weight: bold;\n    color: ",";\n"]);return g=function(){return n},n}function v(){var n=Object(x.a)(['\n    font-style: italic;\n\n    \n    >span:not(:first-child):before{\n        content: "-";\n        margin: 0 7px;\n    }\n    .story_meta-bold{\n        font-weight: bold;\n    }\n']);return v=function(){return n},n}function w(){var n=Object(x.a)(["\n    margin-bottom: 5px;\n    font-size: 18px;\n    line-height: 1.8;\n    margin: 0;\n    text-decoration: none;\n    a {\n        color: #2e2e2c;\n        background-color: #f8dc3d;\n        text-decoration: none;\n    }\n"]);return w=function(){return n},n}function y(){var n=Object(x.a)(["\n    padding-top: 10px;\n    margin-bottom: 20px;\n    border-top: 1px solid #cccccc;\n\n    &:first-of-type {\n        border-top: 0;\n    }\n    &:last-of-type {\n        margin-bottom: 0;\n        padding-bottom: 0;\n    }\n\n"]);return y=function(){return n},n}var k=O.b.section(y()),E=O.b.h1(w()),z=O.b.div(v()),S=O.b.span(g(),(function(n){return n.color||"red"})),_=function(n){for(var t=[["second",1],["minute",60],["hour",3600],["day",86400],["week",604800],["month",2592e3],["year",31536e3]],e=Math.round((new Date-1e3*n)/1e3),r=0;r<t.length;r++)if(e<t[r][1])return 0==r?"Just now":(e=Math.round(e/t[r-1][1]))+" "+t[r-1][0]+(1==e?" ago":"s ago")},H=Object(o.memo)((function(n){var t=n.storyId,e=Object(o.useState)({}),c=Object(i.a)(e,2),a=c[0],u=c[1];return Object(o.useEffect)((function(){p(t).then((function(n){return n&&n.url&&u(n)}))}),[]),a&&a.url?Object(r.jsxs)(k,{"data-testid":"story",children:[Object(r.jsx)(E,{children:Object(r.jsx)("a",{href:a.url,children:a.title})}),Object(r.jsxs)(z,{children:[Object(r.jsxs)("span",{"data-testid":"story_by",children:[Object(r.jsx)(S,{color:"#000",children:"By: "}),a.by]}),Object(r.jsxs)("span",{"data-testid":"story_time",children:[Object(r.jsx)(S,{color:"#000",children:"Posted: "}),_(a.time)]})]})]}):null}));function I(){var n=Object(x.a)(["\n    max-width: 500px;\n    padding: 20px 15px;\n    margin: auto;\n"]);return I=function(){return n},n}function J(){var n=Object(x.a)(["\n    html {\n        -webkit-box-sizing: border-box;\n        box-sizing: border-box;\n    }\n    *, *:before, *:after {\n        -webkit-box-sizing: inherit;\n        box-sizing: inherit;\n    }\n    body {\n        margin: 0;\n        padding: 0;\n        line-height: 1;\n        color: #202020;\n        background-color: #fafafe;\n        font-family: Arial, Helvetica, sans-serif;\n        font-size: 16px;\n    }\n    ul {\n        margin: 0;\n        padding: 0;\n    }\n"]);return J=function(){return n},n}var T=Object(O.a)(J()),B=O.b.main(I()),L=function(){var n=Object(o.useState)(!1),t=Object(i.a)(n,2),e=t[0],r=t[1],c=Object(o.useState)(30),a=Object(i.a)(c,2),u=a[0],s=a[1],f=function(n,t,e,r){var o;return function(){var c=void 0,i=e&&!o;clearTimeout(o),o=setTimeout((function(){o=null,e||n.apply(c,r)}),t),i&&n.apply(c,r)}}((function(){if(window.innerHeight+document.documentElement.scrollTop!==document.documentElement.offsetHeight||e)return!1;r(!0)}),500);return Object(o.useEffect)((function(){e&&(s(u+30>=500?500:u+30),r(!1))}),[e]),Object(o.useEffect)((function(){return window.addEventListener("scroll",f),function(){return window.removeEventListener("scroll",f)}}),[]),{count:u}},M=function(){var n=L().count,t=Object(o.useState)([]),e=Object(i.a)(t,2),c=e[0],a=e[1];return Object(o.useEffect)((function(){console.log("count",n),m().then((function(n){return a(n)}))}),[]),0==c.length?null:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(T,{}),Object(r.jsxs)(B,{"data-testid":"stories-container",children:[Object(r.jsx)("h1",{children:"Hacker News Stories"}),c.data.slice(0,n).map((function(n){return Object(r.jsx)(H,{storyId:n},n)}))]})]})},A=function(){return Object(r.jsx)(M,{})};Object(c.render)(Object(r.jsx)(A,{}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.6cc3fca1.chunk.js.map